<ng-container *ngFor="let item of items">
  <nz-list-item *ngFor="let record of item.records" [nzContent]="nzContent">
    <nz-list-item-meta [nzTitle]="nzTitle" [nzAvatar]="nzAvatar" [nzDescription]="nzDescription">
      <ng-template #nzTitle>
        <a>{{ record?.category?.name }}</a>
      </ng-template>
      <ng-template #nzAvatar>
        <div class="record-icon">
          <i nz-icon nzIconfont="icon-{{ record.category?.icon_name }}" class="icon-sm"></i>
        </div>
      </ng-template>
      <ng-template #nzDescription>
        {{ record.date | _date: 'MM-dd HH:ii' }}
        <span *ngIf="record.transaction.description"> | {{ record.transaction.description }}</span>
        <span *ngIf="record.transaction.remark"> | {{ record.transaction.remark }}</span>
      </ng-template>
    </nz-list-item-meta>
    <ng-template #nzContent>
      <div class="width-sm p-0">
        <div class="mb-4"><nz-badge [nzColor]="record.account?.color" [nzText]="record.account?.name"></nz-badge></div>
        <div [ngClass]="record.direction === 'expense' ? 'text-red' : 'text-green'">
          {{ record.direction === 'expense' ? '-' : '' }}
          {{ record.currency_code }}
          {{ record.currency_amount }}
        </div>
      </div>
    </ng-template>
  </nz-list-item>
</ng-container>
