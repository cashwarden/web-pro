{"version":3,"sources":["./src/app/routes/account/form/form.component.html","./src/app/routes/account/form/form.component.ts"],"names":[],"mappings":"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","file":"default~account-account-module~assets-assets-module.js","sourcesContent":["<div class=\"modal-header\">\n  <div class=\"modal-title\">账户编辑</div>\n</div>\n\n<form nz-form #f=\"ngForm\" se-container=\"1\" (ngSubmit)=\"save(form)\" labelWidth=\"100\">\n  <se label=\"名称\">\n    <input type=\"text\" nz-input [(ngModel)]=\"form.name\" name=\"name\" required />\n  </se>\n  <se label=\"类型\">\n    <nz-select [(ngModel)]=\"form.type\" name=\"type\" required>\n      <nz-option nzCustomContent [nzLabel]=\"i.name\" [nzValue]=\"i.type\" *ngFor=\"let i of accountTypes\">\n        <i nz-icon nzIconfont=\"icon-{{ i.type }}\"></i> {{ i.name }}\n      </nz-option>\n    </nz-select>\n  </se>\n  <se label=\"余额\">\n    <nz-input-group [nzAddOnAfter]=\"addOnAfterBtn\">\n      <input nz-input type=\"number\" [(ngModel)]=\"form.currency_balance\" name=\"currency_balance\" required />\n      <ng-template #addOnAfterBtn>\n        <nz-select [(ngModel)]=\"form.currency_code\" name=\"currency_code\" style=\"width: 80px;\">\n          <nz-option nzLabel=\"CNY\" nzValue=\"CNY\"></nz-option>\n        </nz-select>\n      </ng-template>\n    </nz-input-group>\n  </se>\n\n  <se label=\"关键词\">\n    <nz-select [(ngModel)]=\"form.keywords\" nzMode=\"tags\" name=\"keywords\">\n      <nz-option [nzLabel]=\"i.label\" [nzValue]=\"i.value\" *ngFor=\"let i of []\"> </nz-option>\n    </nz-select>\n  </se>\n\n  <se label=\"备注\" col=\"1\">\n    <textarea [(ngModel)]=\"form.remark\" name=\"remark\" nz-input rows=\"2\"></textarea>\n  </se>\n\n  <se label=\"状态\">\n    <nz-radio-group [(ngModel)]=\"form.status\" nzButtonStyle=\"solid\" name=\"status\">\n      <label nz-radio-button nzValue=\"active\"> <span>启用</span> </label>\n      <label nz-radio-button nzValue=\"unactivated\"> <span>冻结</span> </label>\n    </nz-radio-group>\n  </se>\n\n  <se label=\"默认账号\" col=\"1\">\n    <nz-switch [(ngModel)]=\"form.default\" name=\"default\"></nz-switch>\n  </se>\n  <se label=\"不计入统计\" col=\"1\">\n    <nz-switch [(ngModel)]=\"form.exclude_from_stats\" name=\"exclude_from_stats\"></nz-switch>\n  </se>\n  <se col=\"1\">\n    <button nz-button type=\"button\" (click)=\"close()\">关闭</button>\n    <button nz-button nzType=\"primary\" [disabled]=\"f.invalid\">保存</button>\n  </se>\n</form>\n","import { Component, OnInit } from '@angular/core';\nimport { _HttpClient } from '@delon/theme';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzModalRef } from 'ng-zorro-antd/modal';\n\n@Component({\n  selector: 'app-account-form',\n  templateUrl: './form.component.html',\n})\nexport class AccountFormComponent implements OnInit {\n  record: any = {};\n  accountTypes: [];\n\n  form = {\n    name: '',\n    keywords: [],\n    type: 'general_account',\n    currency_balance: '',\n    currency_code: 'CNY',\n    status: 'active',\n    default: false,\n    remark: '',\n    exclude_from_stats: false,\n  };\n\n  ngOnInit(): void {\n    if (this.record.id) {\n      this.form = this.record;\n    }\n  }\n\n  constructor(private http: _HttpClient, private modal: NzModalRef, private msgSrv: NzMessageService) {}\n\n  save(value: any) {\n    const url = this.record.id ? `/${this.record.id}` : '';\n    const method = this.record.id ? 'put' : 'post';\n    this.http.request(method, `/api/accounts${url}`, { body: value }).subscribe((res: any) => {\n      if (res.code !== 0) {\n        this.msgSrv.warning(res.message);\n        return;\n      }\n      this.msgSrv.success('保存成功');\n      this.modal.close(res.data);\n    });\n  }\n\n  close() {\n    this.modal.destroy();\n  }\n}\n"],"sourceRoot":"webpack:///"}